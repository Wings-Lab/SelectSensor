init done!
true transmitter (6, 4)  0

[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]
[ 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 0.00391 ]

[0] 2.21118142731
[1] 2.69764329942
[2] 2.62195133641
[3] 2.21269062593
[4] 3.68296986608
[5] 2.54035943183
[6] 4.04894265136
[7] 2.1442682555
[8] 3.02544153556
[9] 2.21269062593
[10] 4.07614971185
[11] 2.9322581654
[12] 2.29052635369
[13] 3.07275551879
[14] 2.87608575487
[15] 3.0093946447
[16] 2.45761207347
[17] 2.60185874599
[18] 2.42539112184
[19] 3.60914455021
[20] 3.26607086446
[21] 3.02747445365
[22] 3.04365591584
[23] 3.83948238971
[24] 2.56552590277
[25] 2.17545160121
[26] 4.18469005129
[27] 4.2183030822
[28] 2.44884319572
[29] 2.54424853503
[30] 2.53440839344
[31] 2.3538883057
[32] 4.07614971185
[33] 3.32488312298
[34] 2.49110330551
[35] 3.19337008374
[36] 2.55561368672
[37] 2.22016229182
[38] 2.07722661799
[39] 3.12964879296
MI =  4.2183030822
[27] [ (6, 9) ]

[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00550 0.07967 0.00550 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00550 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00550 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00550 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00550 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 0.00000 0.00000 0.07967 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00550 0.07967 0.00550 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]

[0, 27] 1.41976502178
[1, 27] 2.49071704994
[2, 27] 2.1994789156
[3, 27] 2.21168231159
[4, 27] 2.614340119
[5, 27] 2.28115977547
[6, 27] 2.76024593437
[7, 27] 1.58408656051
[8, 27] 1.71662723995
[9, 27] 2.2478668838
[10, 27] 3.23967958049
[11, 27] 2.70681829423
[12, 27] 1.82357083543
[13, 27] 1.38260017932
[14, 27] 2.33765557097
[15, 27] 2.63865346377
[16, 27] 2.44043157595
[17, 27] 1.95734055806
[18, 27] 1.52803963034
[19, 27] 3.30752949984
[20, 27] 2.56164096483
[21, 27] 2.83425599357
[22, 27] 2.60238394666
[23, 27] 3.16357720539
[24, 27] 2.06953873037
[25, 27] 1.62910995241
[26, 27] 3.18826177535
[27, 28] 2.30566119179
[27, 29] 1.93008620127
[27, 30] 2.20577808379
[27, 31] 1.92352004043
[27, 32] 3.23967958049
[27, 33] 3.02535101129
[27, 34] 2.07999088495
[27, 35] 2.29538144324
[27, 36] 2.20577808379
[27, 37] 1.45326212299
[27, 38] 2.28115977547
[27, 39] 2.59997579659
MI =  3.30752949984
[19, 27] [ (0, 8) (6, 9) ]

[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 1.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]

[0, 19, 27] 1.80234397657e-08
[1, 19, 27] 3.20462038593e-08
[2, 19, 27] 9.28242554907e-09
[3, 19, 27] 9.3926739354e-09
[4, 19, 27] 7.3286710529e-08
[5, 19, 27] 8.887720232e-09
[6, 19, 27] 1.91966552247e-08
[7, 19, 27] 1.82336327492e-08
[8, 19, 27] 9.60114459381e-08
[9, 19, 27] 5.68017455447e-09
[10, 19, 27] 3.10369013039e-08
[11, 19, 27] 1.36970802288e-08
[12, 19, 27] 2.02863066409e-08
[13, 19, 27] 1.07995183003e-07
[14, 19, 27] 9.52077719554e-09
[15, 19, 27] 1.20903746803e-07
[16, 19, 27] 9.27442637242e-09
[17, 19, 27] 8.77718744316e-09
[18, 19, 27] 9.03385322313e-09
[19, 20, 27] 4.3050792556e-08
[19, 21, 27] 2.75601570918e-08
[19, 22, 27] 9.80962058161e-09
[19, 23, 27] 3.23426327914e-08
[19, 24, 27] 6.24480078748e-08
[19, 25, 27] 1.12770579046e-08
[19, 26, 27] 1.38242417468e-07
[19, 27, 28] 1.16421825012e-08
[19, 27, 29] 1.10206831257e-08
[19, 27, 30] 9.67409793969e-09
[19, 27, 31] 8.83901519469e-09
[19, 27, 32] 1.38182526421e-07
[19, 27, 33] 1.02015050658e-08
[19, 27, 34] 9.80770079742e-09
[19, 27, 35] 5.35424492624e-08
[19, 27, 36] 2.13427508639e-08
[19, 27, 37] 1.17347394988e-08
[19, 27, 38] 9.25230438365e-09
[19, 27, 39] 1.53215818681e-08
MI =  1.38242417468e-07
[19, 26, 27] [ (0, 8) (8, 4) (6, 9) ]

[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 1.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]

[0, 19, 26, 27] 3.84717614339e-118
[1, 19, 26, 27] 5.65431711474e-118
[2, 19, 26, 27] 4.91694631045e-118
[3, 19, 26, 27] 1.34584864007e-118
[4, 19, 26, 27] 1.29848130922e-117
[5, 19, 26, 27] 2.82303050381e-140
[6, 19, 26, 27] 9.75449417184e-117
[7, 19, 26, 27] 6.15087493586e-118
[8, 19, 26, 27] 1.77536629485e-118
[9, 19, 26, 27] 2.61421097946e-118
[10, 19, 26, 27] 6.40425752931e-117
[11, 19, 26, 27] 4.96084074016e-118
[12, 19, 26, 27] 8.93418412925e-120
[13, 19, 26, 27] 7.96520766922e-118
[14, 19, 26, 27] 4.53382874681e-118
[15, 19, 26, 27] 1.53997824671e-116
[16, 19, 26, 27] 3.95123452105e-118
[17, 19, 26, 27] 5.8027130954e-118
[18, 19, 26, 27] 4.99577504054e-118
[19, 20, 26, 27] 4.04821210747e-118
[19, 21, 26, 27] 1.15061523343e-117
[19, 22, 26, 27] 1.18913858357e-117
[19, 23, 26, 27] 2.87720717744e-117
[19, 24, 26, 27] 2.18917777814e-119
[19, 25, 26, 27] 2.37051591318e-120
[19, 26, 27, 28] 1.2034773697e-118
[19, 26, 27, 29] 9.13519000561e-119
[19, 26, 27, 30] 3.80230611589e-118
[19, 26, 27, 31] 1.37923290784e-201
[19, 26, 27, 32] 3.05418823049e-116
[19, 26, 27, 33] 2.60284228139e-117
[19, 26, 27, 34] 2.98932909761e-118
[19, 26, 27, 35] 2.28632452482e-116
[19, 26, 27, 36] 5.6935202963e-118
[19, 26, 27, 37] 2.24560551864e-120
[19, 26, 27, 38] 6.85183757292e-141
[19, 26, 27, 39] 8.18793880222e-118
MI =  3.05418823049e-116
[19, 26, 27, 32] [ (0, 8) (8, 4) (6, 9) (4, 6) ]

[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 1.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]
[ 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 ]

greedy: 57.64891958236694
start saving data
Wrote profile results to select_sensor.py.lprof
Timer unit: 1e-06 s

Total time: 27.0805 s
File: select_sensor.py
Function: mutual_information at line 1375

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
  1375                                               @profile
  1376                                               def mutual_information(self, discretize_x, sensor_index):
  1377                                                   '''mutual information version 2
  1378                                                   Parameters:
  1379                                                       discretize_x (np.ndarray, n = 3): for each pair of (sensor, transmitter), discretize the gaussian distribution
  1380                                                       sensor_index (int): the X_e in the paper, a candidate sensor
  1381                                                   '''
  1382       154        560.0      3.6      0.0          prob_x = []           # compute the probability of x
  1383       154       1146.0      7.4      0.0          x_num = len(discretize_x[0, 0])
  1384     15554       6606.0      0.4      0.0          for i in range(x_num):
  1385     15400       5882.0      0.4      0.0              summation = 0
  1386   3957800    1554994.0      0.4      5.7              for trans in self.transmitters:
  1387   3942400    1850758.0      0.5      6.8                  x = trans.hypothesis // self.grid_len
  1388   3942400    1775288.0      0.5      6.6                  y = trans.hypothesis % self.grid_len
  1389   3942400    7680274.0      1.9     28.4                  summation += discretize_x[sensor_index, trans.hypothesis, i] * self.grid_priori[x, y]
  1390     15400       9740.0      0.6      0.0              prob_x.append(summation)
  1391                                           
  1392       154         58.0      0.4      0.0          summation = 0         # compute the mutual information
  1393     39578      17302.0      0.4      0.1          for trans in self.transmitters:
  1394     39424      25333.0      0.6      0.1              x = trans.hypothesis // self.grid_len
  1395     39424      19676.0      0.5      0.1              y = trans.hypothesis % self.grid_len
  1396   3981824    6206558.0      1.6     22.9              for prob_xh, prob_xi in zip(discretize_x[sensor_index, trans.hypothesis], prob_x):
  1397   3942400    2646881.0      0.7      9.8                  if prob_xh == 0 or prob_xi == 0:
  1398     49028      18185.0      0.4      0.1                      continue
  1399   1195330    1258477.0      1.1      4.6                  term = prob_xh * self.grid_priori[x, y] * math.log2(prob_xh/prob_xi)
  1400   1195330    3410254.0      2.9     12.6                  if not (np.isnan(term) or np.isinf(term)):
  1401   1194623     592421.0      0.5      2.2                      summation += term
  1402       154         59.0      0.4      0.0          return summation

Total time: 0 s
File: select_sensor.py
Function: mutual_information_optimal at line 1404

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
  1404                                               @profile
  1405                                               def mutual_information_optimal(self, discretize_x, sensor_index):
  1406                                                   '''mutual information version 2
  1407                                                   Parameters:
  1408                                                       discretize_x (np.ndarray, n = 3): for each pair of (sensor, transmitter), discretize the gaussian distribution
  1409                                                       sensor_index (int): the X_e in the paper, a candidate sensor
  1410                                                   '''
  1411                                                   prob_x = np.zeros(len(discretize_x[0, 0]))          # compute the probability of x
  1412                                                   x_num = len(discretize_x[0, 0])
  1413                                                   for i in range(x_num):
  1414                                                       prob_x[i] = np.dot(discretize_x[sensor_index, :, i], self.grid_priori.flatten())
  1415                                           
  1416                                                   summation = 0                                       # compute the mutual information
  1417                                                   for trans in self.transmitters:
  1418                                                       x = trans.hypothesis // self.grid_len
  1419                                                       y = trans.hypothesis % self.grid_len
  1420                                                       prob_xh = discretize_x[sensor_index, trans.hypothesis, :]
  1421                                                       log_term = np.log2(prob_xh / prob_x)
  1422                                                       #from numpy import inf
  1423                                                       log_term[log_term == np.inf] = 0
  1424                                                       summation_term = self.grid_priori[x, y] * log_term * prob_xh
  1425                                                       np.nan_to_num(summation_term, copy=False)
  1426                                           
  1427                                                       summation += np.sum(summation_term)
  1428                                           
  1429                                                   return summation

